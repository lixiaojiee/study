# 一、更新的并发性

# 二、分布式的一致性问题

## 1、分布式系统为什么需要数据复制？

- 为了提高系统的可用性，以防止单点故障引起的系统不可用
- 提升系统的整体性能，通过负载均衡技术，能够让分布在不同地方的数据副本都能够为用户提供服务

## 2、分布式的一致性问题

所谓分布式一致性问题，是指在分布式环境中引入数据复制机制后，不同数据节点间可能出现的，并无法依靠计算机应用程序自身解决的数据不一致情况

## 3、什么是数据的一致性

数据一致性就是指在对一个数据副本进行更新的同时，必须确保也能够更新其他的副本，否则不同副本之间的数据将不再一致

## 4、数据一致性的级别

### 1）强一致性

强一致性要求系统写入什么，读出来的也会是什么，用户体验好，但实现起来往往对系统的性能影响较大

### 2）弱一致性

这种一致性级别约束了系统在写入成功后，不承诺立即可以读到写入的值，也不具体承诺多久之后数据能够达到一致，但会尽可能地保证到某个时间级别（比如秒级）后，数据能够达到一致状态。弱一致性还可以再进行细分：

#### a、会话一致性

该一致性级别值只保证对写入的值，在同一个客户端会话中可以立即读到一致的值，但其它的会话不能保证

#### b、用户一致性

该一致性级别只保证对写入的值，在同一个用户中可以立即读到一致的值，但其它用户不能保证

### 3）最终一致性

最终一致性是弱一致性的一个特例，系统会保证在一定时间内，能够达到一个数据一致的状态

**zookeeper就是解决分布式一致性问题的工业解决方案**

